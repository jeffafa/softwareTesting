<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0070)http://homepages.cwi.nl/~jve/courses/15/testing/lectures/Lecture2.html -->
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  <meta http-equiv="Content-Style-Type" content="text/css">
  <meta name="generator" content="pandoc">
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
  </style>
  <link rel="stylesheet" href="./Lecture2_files/buttondown.css" type="text/css">
  <script src="./Lecture2_files/MathJax.js" type="text/javascript"></script>
<style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Menu_Button .MathJax_Hover_Arrow {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 4px; -webkit-border-radius: 4px; -moz-border-radius: 4px; -khtml-border-radius: 4px; font-family: 'Courier New',Courier; font-size: 9px; color: #F0F0F0}
.MathJax_Menu_Button .MathJax_Hover_Arrow span {display: block; background-color: #AAA; border: 1px solid; border-radius: 3px; line-height: 0; padding: 4px}
.MathJax_Hover_Arrow:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_Hover_Arrow:hover span {background-color: #CCC!important}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_About.MathJax_MousePost {outline: none}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 2px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 2px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; padding-top: .25em; color: #666666; font-size: .75em}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: 1em}
.MathJax_MenuRadioCheck.RTL {right: 1em; left: auto}
.MathJax_MenuLabel {padding: 2px 2em 4px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #CCCCCC; margin: 4px 1px 0px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: Highlight; color: HighlightText}
.MathJax_MenuDisabled:focus, .MathJax_MenuLabel:focus {background-color: #E8E8E8}
.MathJax_ContextMenu:focus {outline: none}
.MathJax_ContextMenu .MathJax_MenuItem:focus {outline: none}
#MathJax_AboutClose {top: .2em; right: .2em}
.MathJax_Menu .MathJax_MenuClose {top: -10px; left: -10px}
.MathJax_MenuClose {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; font-family: 'Courier New',Courier; font-size: 24px; color: #F0F0F0}
.MathJax_MenuClose span {display: block; background-color: #AAA; border: 1.5px solid; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; line-height: 0; padding: 8px 0 6px}
.MathJax_MenuClose:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_MenuClose:hover span {background-color: #CCC!important}
.MathJax_MenuClose:hover:focus {outline: none}
</style><style type="text/css">.MathJax_Preview .MJXf-math {color: inherit!important}
</style><style type="text/css">.MJX_Assistive_MathML {position: absolute!important; top: 0; left: 0; clip: rect(1px, 1px, 1px, 1px); padding: 1px 0 0 0!important; border: 0!important; height: 1px!important; width: 1px!important; overflow: hidden!important; display: block!important}
.MJX_Assistive_MathML.MJX_Assistive_MathML_Block {width: 100%!important}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; -webkit-box-sizing: content-box; -moz-box-sizing: content-box; box-sizing: content-box; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1em; bottom: 1.5em; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><style type="text/css">.MJXp-script {font-size: .8em}
.MJXp-right {-webkit-transform-origin: right; -moz-transform-origin: right; -ms-transform-origin: right; -o-transform-origin: right; transform-origin: right}
.MJXp-bold {font-weight: bold}
.MJXp-italic {font-style: italic}
.MJXp-scr {font-family: MathJax_Script,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-frak {font-family: MathJax_Fraktur,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-sf {font-family: MathJax_SansSerif,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-cal {font-family: MathJax_Caligraphic,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-mono {font-family: MathJax_Typewriter,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-largeop {font-size: 150%}
.MJXp-largeop.MJXp-int {vertical-align: -.2em}
.MJXp-math {display: inline-block; line-height: 1.2; text-indent: 0; font-family: 'Times New Roman',Times,STIXGeneral,serif; white-space: nowrap; border-collapse: collapse}
.MJXp-display {display: block; text-align: center; margin: 1em 0}
.MJXp-math span {display: inline-block}
.MJXp-box {display: block!important; text-align: center}
.MJXp-box:after {content: " "}
.MJXp-rule {display: block!important; margin-top: .1em}
.MJXp-char {display: block!important}
.MJXp-mo {margin: 0 .15em}
.MJXp-mfrac {margin: 0 .125em; vertical-align: .25em}
.MJXp-denom {display: inline-table!important; width: 100%}
.MJXp-denom > * {display: table-row!important}
.MJXp-surd {vertical-align: top}
.MJXp-surd > * {display: block!important}
.MJXp-script-box > *  {display: table!important; height: 50%}
.MJXp-script-box > * > * {display: table-cell!important; vertical-align: top}
.MJXp-script-box > *:last-child > * {vertical-align: bottom}
.MJXp-script-box > * > * > * {display: block!important}
.MJXp-mphantom {visibility: hidden}
.MJXp-munderover {display: inline-table!important}
.MJXp-over {display: inline-block!important; text-align: center}
.MJXp-over > * {display: block!important}
.MJXp-munderover > * {display: table-row!important}
.MJXp-mtable {vertical-align: .25em; margin: 0 .125em}
.MJXp-mtable > * {display: inline-table!important; vertical-align: middle}
.MJXp-mtr {display: table-row!important}
.MJXp-mtd {display: table-cell!important; text-align: center; padding: .5em 0 0 .5em}
.MJXp-mtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-mlabeledtr {display: table-row!important}
.MJXp-mlabeledtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mlabeledtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MJXp-scale0 {-webkit-transform: scaleX(.0); -moz-transform: scaleX(.0); -ms-transform: scaleX(.0); -o-transform: scaleX(.0); transform: scaleX(.0)}
.MJXp-scale1 {-webkit-transform: scaleX(.1); -moz-transform: scaleX(.1); -ms-transform: scaleX(.1); -o-transform: scaleX(.1); transform: scaleX(.1)}
.MJXp-scale2 {-webkit-transform: scaleX(.2); -moz-transform: scaleX(.2); -ms-transform: scaleX(.2); -o-transform: scaleX(.2); transform: scaleX(.2)}
.MJXp-scale3 {-webkit-transform: scaleX(.3); -moz-transform: scaleX(.3); -ms-transform: scaleX(.3); -o-transform: scaleX(.3); transform: scaleX(.3)}
.MJXp-scale4 {-webkit-transform: scaleX(.4); -moz-transform: scaleX(.4); -ms-transform: scaleX(.4); -o-transform: scaleX(.4); transform: scaleX(.4)}
.MJXp-scale5 {-webkit-transform: scaleX(.5); -moz-transform: scaleX(.5); -ms-transform: scaleX(.5); -o-transform: scaleX(.5); transform: scaleX(.5)}
.MJXp-scale6 {-webkit-transform: scaleX(.6); -moz-transform: scaleX(.6); -ms-transform: scaleX(.6); -o-transform: scaleX(.6); transform: scaleX(.6)}
.MJXp-scale7 {-webkit-transform: scaleX(.7); -moz-transform: scaleX(.7); -ms-transform: scaleX(.7); -o-transform: scaleX(.7); transform: scaleX(.7)}
.MJXp-scale8 {-webkit-transform: scaleX(.8); -moz-transform: scaleX(.8); -ms-transform: scaleX(.8); -o-transform: scaleX(.8); transform: scaleX(.8)}
.MJXp-scale9 {-webkit-transform: scaleX(.9); -moz-transform: scaleX(.9); -ms-transform: scaleX(.9); -o-transform: scaleX(.9); transform: scaleX(.9)}
.MathJax_PHTML .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style><style type="text/css">.MathJax_Display {text-align: center; margin: 1em 0em; position: relative; display: block!important; text-indent: 0; max-width: none; max-height: none; min-width: 0; min-height: 0; width: 100%}
.MathJax .merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MathJax .MJX-monospace {font-family: monospace}
.MathJax .MJX-sans-serif {font-family: sans-serif}
#MathJax_Tooltip {background-color: InfoBackground; color: InfoText; border: 1px solid black; box-shadow: 2px 2px 5px #AAAAAA; -webkit-box-shadow: 2px 2px 5px #AAAAAA; -moz-box-shadow: 2px 2px 5px #AAAAAA; -khtml-box-shadow: 2px 2px 5px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true'); padding: 3px 4px; z-index: 401; position: absolute; left: 0; top: 0; width: auto; height: auto; display: none}
.MathJax {display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 100%; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; padding: 0; margin: 0}
.MathJax:focus, body :focus .MathJax {display: inline-table}
.MathJax img, .MathJax nobr, .MathJax a {border: 0; padding: 0; margin: 0; max-width: none; max-height: none; min-width: 0; min-height: 0; vertical-align: 0; line-height: normal; text-decoration: none}
img.MathJax_strut {border: 0!important; padding: 0!important; margin: 0!important; vertical-align: 0!important}
.MathJax span {display: inline; position: static; border: 0; padding: 0; margin: 0; vertical-align: 0; line-height: normal; text-decoration: none}
.MathJax nobr {white-space: nowrap!important}
.MathJax img {display: inline!important; float: none!important}
.MathJax * {transition: none; -webkit-transition: none; -moz-transition: none; -ms-transition: none; -o-transition: none}
.MathJax_Processing {visibility: hidden; position: fixed; width: 0; height: 0; overflow: hidden}
.MathJax_Processed {display: none!important}
.MathJax_ExBox {display: block!important; overflow: hidden; width: 1px; height: 60ex; min-height: 0; max-height: none}
.MathJax .MathJax_EmBox {display: block!important; overflow: hidden; width: 1px; height: 60em; min-height: 0; max-height: none}
.MathJax .MathJax_HitBox {cursor: text; background: white; opacity: 0; filter: alpha(opacity=0)}
.MathJax .MathJax_HitBox * {filter: none; opacity: 1; background: transparent}
#MathJax_Tooltip * {filter: none; opacity: 1; background: transparent}
@font-face {font-family: MathJax_Main; src: url('https://cdn.mathjax.org/mathjax/2.6-latest/fonts/HTML-CSS/TeX/woff/MathJax_Main-Regular.woff?rev=2.6.0') format('woff'), url('https://cdn.mathjax.org/mathjax/2.6-latest/fonts/HTML-CSS/TeX/otf/MathJax_Main-Regular.otf?rev=2.6.0') format('opentype')}
@font-face {font-family: MathJax_Main-bold; src: url('https://cdn.mathjax.org/mathjax/2.6-latest/fonts/HTML-CSS/TeX/woff/MathJax_Main-Bold.woff?rev=2.6.0') format('woff'), url('https://cdn.mathjax.org/mathjax/2.6-latest/fonts/HTML-CSS/TeX/otf/MathJax_Main-Bold.otf?rev=2.6.0') format('opentype')}
@font-face {font-family: MathJax_Main-italic; src: url('https://cdn.mathjax.org/mathjax/2.6-latest/fonts/HTML-CSS/TeX/woff/MathJax_Main-Italic.woff?rev=2.6.0') format('woff'), url('https://cdn.mathjax.org/mathjax/2.6-latest/fonts/HTML-CSS/TeX/otf/MathJax_Main-Italic.otf?rev=2.6.0') format('opentype')}
@font-face {font-family: MathJax_Math-italic; src: url('https://cdn.mathjax.org/mathjax/2.6-latest/fonts/HTML-CSS/TeX/woff/MathJax_Math-Italic.woff?rev=2.6.0') format('woff'), url('https://cdn.mathjax.org/mathjax/2.6-latest/fonts/HTML-CSS/TeX/otf/MathJax_Math-Italic.otf?rev=2.6.0') format('opentype')}
@font-face {font-family: MathJax_Caligraphic; src: url('https://cdn.mathjax.org/mathjax/2.6-latest/fonts/HTML-CSS/TeX/woff/MathJax_Caligraphic-Regular.woff?rev=2.6.0') format('woff'), url('https://cdn.mathjax.org/mathjax/2.6-latest/fonts/HTML-CSS/TeX/otf/MathJax_Caligraphic-Regular.otf?rev=2.6.0') format('opentype')}
@font-face {font-family: MathJax_Size1; src: url('https://cdn.mathjax.org/mathjax/2.6-latest/fonts/HTML-CSS/TeX/woff/MathJax_Size1-Regular.woff?rev=2.6.0') format('woff'), url('https://cdn.mathjax.org/mathjax/2.6-latest/fonts/HTML-CSS/TeX/otf/MathJax_Size1-Regular.otf?rev=2.6.0') format('opentype')}
@font-face {font-family: MathJax_Size2; src: url('https://cdn.mathjax.org/mathjax/2.6-latest/fonts/HTML-CSS/TeX/woff/MathJax_Size2-Regular.woff?rev=2.6.0') format('woff'), url('https://cdn.mathjax.org/mathjax/2.6-latest/fonts/HTML-CSS/TeX/otf/MathJax_Size2-Regular.otf?rev=2.6.0') format('opentype')}
@font-face {font-family: MathJax_Size3; src: url('https://cdn.mathjax.org/mathjax/2.6-latest/fonts/HTML-CSS/TeX/woff/MathJax_Size3-Regular.woff?rev=2.6.0') format('woff'), url('https://cdn.mathjax.org/mathjax/2.6-latest/fonts/HTML-CSS/TeX/otf/MathJax_Size3-Regular.otf?rev=2.6.0') format('opentype')}
@font-face {font-family: MathJax_Size4; src: url('https://cdn.mathjax.org/mathjax/2.6-latest/fonts/HTML-CSS/TeX/woff/MathJax_Size4-Regular.woff?rev=2.6.0') format('woff'), url('https://cdn.mathjax.org/mathjax/2.6-latest/fonts/HTML-CSS/TeX/otf/MathJax_Size4-Regular.otf?rev=2.6.0') format('opentype')}
.MathJax .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style></head>
<body><div style="visibility: hidden; overflow: hidden; position: absolute; top: 0px; height: 1px; width: auto; padding: 0px; border: 0px; margin: 0px; text-align: left; text-indent: 0px; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal;"><div id="MathJax_Hidden"></div></div><div id="MathJax_Message" style="display: none;"></div>
<h1 id="lecture-2-preconditions-and-postconditions">Lecture 2: Preconditions and Postconditions</h1>
<div class="sourceCode"><pre class="sourceCode literate literatehaskell"><code class="sourceCode literatehaskell"><span class="ot">&gt;</span> <span class="kw">module</span> <span class="dt">Lecture2</span>
<span class="ot">&gt;</span> 
<span class="ot">&gt;</span> <span class="kw">where</span> 
<span class="ot">&gt;</span> 
<span class="ot">&gt;</span> <span class="kw">import </span><span class="dt">System.Random</span></code></pre></div>
<hr>
<p><strong>Tools for Test Generation: Random Numbers</strong></p>
<p>Random number generation. Getting a random integer:</p>
<div class="sourceCode"><pre class="sourceCode literate literatehaskell"><code class="sourceCode literatehaskell"><span class="ot">&gt; getRandomInt ::</span> <span class="dt">Int</span> <span class="ot">-&gt;</span> <span class="dt">IO</span> <span class="dt">Int</span>
<span class="ot">&gt;</span> getRandomInt n <span class="fu">=</span> getStdRandom (randomR (<span class="dv">0</span>,n))</code></pre></div>
<p>This gives:</p>
<pre><code> *Lecture2&gt; :t getRandomInt
 getRandomInt :: Int -&gt; IO Int
 *Lecture2&gt; getRandomInt 20
 2
 *Lecture2&gt; getRandomInt 20
 11
 *Lecture2&gt; getRandomInt 20
 8</code></pre>
<p>And next time you do it you get different values.</p>
<p><strong>Random Integer Lists</strong></p>
<p>Randomly flipping the value of an Int:</p>
<div class="sourceCode"><pre class="sourceCode literate literatehaskell"><code class="sourceCode literatehaskell"><span class="ot">&gt; randomFlip ::</span> <span class="dt">Int</span> <span class="ot">-&gt;</span> <span class="dt">IO</span> <span class="dt">Int</span>
<span class="ot">&gt;</span> randomFlip x <span class="fu">=</span> <span class="kw">do</span> 
<span class="ot">&gt;</span>    b <span class="ot">&lt;-</span> getRandomInt <span class="dv">1</span>
<span class="ot">&gt;</span>    <span class="kw">if</span> b<span class="fu">==</span><span class="dv">0</span> <span class="kw">then</span> return x <span class="kw">else</span> return (<span class="fu">-</span>x)</code></pre></div>
<p>Random integer list:</p>
<div class="sourceCode"><pre class="sourceCode literate literatehaskell"><code class="sourceCode literatehaskell"><span class="ot">&gt; genIntList ::</span> <span class="dt">IO</span> [<span class="dt">Int</span>]
<span class="ot">&gt;</span> genIntList <span class="fu">=</span> <span class="kw">do</span> 
<span class="ot">&gt;</span>   k <span class="ot">&lt;-</span> getRandomInt <span class="dv">20</span>
<span class="ot">&gt;</span>   n <span class="ot">&lt;-</span> getRandomInt <span class="dv">10</span>
<span class="ot">&gt;</span>   getIntL k n
<span class="ot">&gt;</span> 
<span class="ot">&gt; getIntL ::</span> <span class="dt">Int</span> <span class="ot">-&gt;</span> <span class="dt">Int</span> <span class="ot">-&gt;</span> <span class="dt">IO</span> [<span class="dt">Int</span>]
<span class="ot">&gt;</span> getIntL _ <span class="dv">0</span> <span class="fu">=</span> return []
<span class="ot">&gt;</span> getIntL k n <span class="fu">=</span> <span class="kw">do</span> 
<span class="ot">&gt;</span>    x <span class="ot">&lt;-</span>  getRandomInt k
<span class="ot">&gt;</span>    y <span class="ot">&lt;-</span> randomFlip x
<span class="ot">&gt;</span>    xs <span class="ot">&lt;-</span> getIntL k (n<span class="fu">-</span><span class="dv">1</span>)
<span class="ot">&gt;</span>    return (y<span class="fu">:</span>xs)</code></pre></div>
<pre><code>*Lecture2&gt; genIntList
[-17,-13,1]
*Lecture2&gt; genIntList
[-13,12,16]
*Lecture2&gt; genIntList
[0,-3,4,2,-2,0,1,3]
*Lecture2&gt; genIntList
[-8,5,8,4,5,2,0,-10,10,10]
*Lecture2&gt; genIntList
[4,-1,-1,17,17,0,-3,8]
*Lecture2&gt; genIntList
[10,-10,6,9,2,-2,-4]
*Lecture2&gt; genIntList
[1,5,5,2,2,-2,-3,-9,-13]</code></pre>
<p>The definitions above use <a href="https://en.wikibooks.org/wiki/Haskell/do_notation">do notation</a> for <a href="https://en.wikibooks.org/wiki/Haskell/Understanding_monads">monadic programming</a>, but for now you need not worry about the details.</p>
<p><strong>Test Properties</strong></p>
<p>Let <code>a</code> be some type.</p>
<p>Then <code>a -&gt; Bool</code> is the type of <code>a</code> properties.</p>
<p>An <code>a</code> property is a function for <strong>classifying</strong> <code>a</code> objects.</p>
<p>Properties can be used for testing, as we will now explain.</p>
<p><strong>Preconditions and postconditions of functions</strong></p>
<p>Let <code>f</code> be a function of type <code>a -&gt; a</code>.</p>
<p>A <strong>precondition</strong> for <code>f</code> is a property of the input.</p>
<p>A <strong>postcondition</strong> for <code>f</code> is a property of the output.</p>
<p><strong>Hoare Statements, or Hoare Triples</strong></p>
<p><span class="math display"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-1-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;{&lt;/mo&gt;&lt;mi&gt;p&lt;/mi&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;}&lt;/mo&gt;&lt;mtext&gt;&amp;#xA0;&lt;/mtext&gt;&lt;mi&gt;f&lt;/mi&gt;&lt;mtext&gt;&amp;#xA0;&lt;/mtext&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;{&lt;/mo&gt;&lt;mi&gt;q&lt;/mi&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;}&lt;/mo&gt;&lt;mo&gt;.&lt;/mo&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1" role="math" style="width: 4.433em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.311em; height: 0px; font-size: 103%;"><span style="position: absolute; clip: rect(1.217em 1004.25em 2.552em -999.997em); top: -2.121em; left: 0.003em;"><span class="mrow" id="MathJax-Span-2"><span class="mo" id="MathJax-Span-3" style="font-family: MathJax_Main;">{</span><span class="mi" id="MathJax-Span-4" style="font-family: MathJax_Math-italic;">p</span><span class="mo" id="MathJax-Span-5" style="font-family: MathJax_Main;">}</span><span class="mtext" id="MathJax-Span-6" style="font-family: MathJax_Main;">&nbsp;</span><span class="mi" id="MathJax-Span-7" style="font-family: MathJax_Math-italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.064em;"></span></span><span class="mtext" id="MathJax-Span-8" style="font-family: MathJax_Main;">&nbsp;</span><span class="mo" id="MathJax-Span-9" style="font-family: MathJax_Main;">{</span><span class="mi" id="MathJax-Span-10" style="font-family: MathJax_Math-italic;">q<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-11" style="font-family: MathJax_Main;">}</span><span class="mo" id="MathJax-Span-12" style="font-family: MathJax_Main;">.</span></span><span style="display: inline-block; width: 0px; height: 2.127em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 1.128em;"></span></span></nobr><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mo fence="false" stretchy="false">{</mo><mi>p</mi><mo fence="false" stretchy="false">}</mo><mtext>&nbsp;</mtext><mi>f</mi><mtext>&nbsp;</mtext><mo fence="false" stretchy="false">{</mo><mi>q</mi><mo fence="false" stretchy="false">}</mo><mo>.</mo></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-1">
 \{ p  \} \ f \ \{ q \}. 
</script></span></p>
<p>Intended meaning: if the input <code>x</code> of <code>f</code> satisfies <code>p</code>, then the output <code>f x</code> of <code>f</code> satisfies <code>q</code>.</p>
<p>Examples (assume functions of type <code>Int -&gt; Int</code>):</p>
<p><span class="math display"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-2-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;{&lt;/mo&gt;&lt;mtext&gt;even&lt;/mtext&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;}&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;&amp;#x03BB;&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;&amp;#x21A6;&lt;/mo&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mtext&gt;&amp;#xA0;&lt;/mtext&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;{&lt;/mo&gt;&lt;mtext&gt;odd&lt;/mtext&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;}&lt;/mo&gt;&lt;mo&gt;.&lt;/mo&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-13" role="math" style="width: 12.382em; display: inline-block;"><span style="display: inline-block; position: relative; width: 12.018em; height: 0px; font-size: 103%;"><span style="position: absolute; clip: rect(1.217em 1011.96em 2.552em -999.997em); top: -2.121em; left: 0.003em;"><span class="mrow" id="MathJax-Span-14"><span class="mo" id="MathJax-Span-15" style="font-family: MathJax_Main;">{</span><span class="mtext" id="MathJax-Span-16" style="font-family: MathJax_Main;">even</span><span class="mo" id="MathJax-Span-17" style="font-family: MathJax_Main;">}</span><span class="mo" id="MathJax-Span-18" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-19" style="font-family: MathJax_Math-italic;">λ</span><span class="mi" id="MathJax-Span-20" style="font-family: MathJax_Math-italic;">x</span><span class="mo" id="MathJax-Span-21" style="font-family: MathJax_Main; padding-left: 0.306em;">↦</span><span class="mi" id="MathJax-Span-22" style="font-family: MathJax_Math-italic; padding-left: 0.306em;">x</span><span class="mo" id="MathJax-Span-23" style="font-family: MathJax_Main; padding-left: 0.246em;">+</span><span class="mn" id="MathJax-Span-24" style="font-family: MathJax_Main; padding-left: 0.246em;">1</span><span class="mo" id="MathJax-Span-25" style="font-family: MathJax_Main;">)</span><span class="mtext" id="MathJax-Span-26" style="font-family: MathJax_Main;">&nbsp;</span><span class="mo" id="MathJax-Span-27" style="font-family: MathJax_Main;">{</span><span class="mtext" id="MathJax-Span-28" style="font-family: MathJax_Main;">odd</span><span class="mo" id="MathJax-Span-29" style="font-family: MathJax_Main;">}</span><span class="mo" id="MathJax-Span-30" style="font-family: MathJax_Main;">.</span></span><span style="display: inline-block; width: 0px; height: 2.127em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 1.128em;"></span></span></nobr><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mo fence="false" stretchy="false">{</mo><mtext>even</mtext><mo fence="false" stretchy="false">}</mo><mo stretchy="false">(</mo><mi>λ</mi><mi>x</mi><mo stretchy="false">↦</mo><mi>x</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo><mtext>&nbsp;</mtext><mo fence="false" stretchy="false">{</mo><mtext>odd</mtext><mo fence="false" stretchy="false">}</mo><mo>.</mo></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-2">
   \{ \text{even} \} (\lambda x \mapsto x+1) \ \{ \text{odd} \}. 
</script></span></p>
<p><span class="math display"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-3-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;{&lt;/mo&gt;&lt;mtext&gt;odd&lt;/mtext&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;}&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;&amp;#x03BB;&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;&amp;#x21A6;&lt;/mo&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo&gt;+&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mtext&gt;&amp;#xA0;&lt;/mtext&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;{&lt;/mo&gt;&lt;mtext&gt;even&lt;/mtext&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;}&lt;/mo&gt;&lt;mo&gt;.&lt;/mo&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-31" role="math" style="width: 12.382em; display: inline-block;"><span style="display: inline-block; position: relative; width: 12.018em; height: 0px; font-size: 103%;"><span style="position: absolute; clip: rect(1.217em 1011.96em 2.552em -999.997em); top: -2.121em; left: 0.003em;"><span class="mrow" id="MathJax-Span-32"><span class="mo" id="MathJax-Span-33" style="font-family: MathJax_Main;">{</span><span class="mtext" id="MathJax-Span-34" style="font-family: MathJax_Main;">odd</span><span class="mo" id="MathJax-Span-35" style="font-family: MathJax_Main;">}</span><span class="mo" id="MathJax-Span-36" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-37" style="font-family: MathJax_Math-italic;">λ</span><span class="mi" id="MathJax-Span-38" style="font-family: MathJax_Math-italic;">x</span><span class="mo" id="MathJax-Span-39" style="font-family: MathJax_Main; padding-left: 0.306em;">↦</span><span class="mi" id="MathJax-Span-40" style="font-family: MathJax_Math-italic; padding-left: 0.306em;">x</span><span class="mo" id="MathJax-Span-41" style="font-family: MathJax_Main; padding-left: 0.246em;">+</span><span class="mn" id="MathJax-Span-42" style="font-family: MathJax_Main; padding-left: 0.246em;">1</span><span class="mo" id="MathJax-Span-43" style="font-family: MathJax_Main;">)</span><span class="mtext" id="MathJax-Span-44" style="font-family: MathJax_Main;">&nbsp;</span><span class="mo" id="MathJax-Span-45" style="font-family: MathJax_Main;">{</span><span class="mtext" id="MathJax-Span-46" style="font-family: MathJax_Main;">even</span><span class="mo" id="MathJax-Span-47" style="font-family: MathJax_Main;">}</span><span class="mo" id="MathJax-Span-48" style="font-family: MathJax_Main;">.</span></span><span style="display: inline-block; width: 0px; height: 2.127em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 1.128em;"></span></span></nobr><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mo fence="false" stretchy="false">{</mo><mtext>odd</mtext><mo fence="false" stretchy="false">}</mo><mo stretchy="false">(</mo><mi>λ</mi><mi>x</mi><mo stretchy="false">↦</mo><mi>x</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo><mtext>&nbsp;</mtext><mo fence="false" stretchy="false">{</mo><mtext>even</mtext><mo fence="false" stretchy="false">}</mo><mo>.</mo></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-3">
   \{ \text{odd} \} (\lambda x \mapsto x+1) \ \{ \text{even} \}. 
</script></span></p>
<p><span class="math display"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-4-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;{&lt;/mo&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x22A4;&lt;/mi&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;}&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;&amp;#x03BB;&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;&amp;#x21A6;&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mtext&gt;&amp;#xA0;&lt;/mtext&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;{&lt;/mo&gt;&lt;mtext&gt;even&lt;/mtext&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;}&lt;/mo&gt;&lt;mo&gt;.&lt;/mo&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-49" role="math" style="width: 10.197em; display: inline-block;"><span style="display: inline-block; position: relative; width: 9.894em; height: 0px; font-size: 103%;"><span style="position: absolute; clip: rect(1.217em 1009.83em 2.552em -999.997em); top: -2.121em; left: 0.003em;"><span class="mrow" id="MathJax-Span-50"><span class="mo" id="MathJax-Span-51" style="font-family: MathJax_Main;">{</span><span class="mi" id="MathJax-Span-52" style="font-family: MathJax_Main;">⊤</span><span class="mo" id="MathJax-Span-53" style="font-family: MathJax_Main;">}</span><span class="mo" id="MathJax-Span-54" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-55" style="font-family: MathJax_Math-italic;">λ</span><span class="mi" id="MathJax-Span-56" style="font-family: MathJax_Math-italic;">x</span><span class="mo" id="MathJax-Span-57" style="font-family: MathJax_Main; padding-left: 0.306em;">↦</span><span class="mn" id="MathJax-Span-58" style="font-family: MathJax_Main; padding-left: 0.306em;">2</span><span class="mi" id="MathJax-Span-59" style="font-family: MathJax_Math-italic;">x</span><span class="mo" id="MathJax-Span-60" style="font-family: MathJax_Main;">)</span><span class="mtext" id="MathJax-Span-61" style="font-family: MathJax_Main;">&nbsp;</span><span class="mo" id="MathJax-Span-62" style="font-family: MathJax_Main;">{</span><span class="mtext" id="MathJax-Span-63" style="font-family: MathJax_Main;">even</span><span class="mo" id="MathJax-Span-64" style="font-family: MathJax_Main;">}</span><span class="mo" id="MathJax-Span-65" style="font-family: MathJax_Main;">.</span></span><span style="display: inline-block; width: 0px; height: 2.127em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 1.128em;"></span></span></nobr><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mo fence="false" stretchy="false">{</mo><mi mathvariant="normal">⊤</mi><mo fence="false" stretchy="false">}</mo><mo stretchy="false">(</mo><mi>λ</mi><mi>x</mi><mo stretchy="false">↦</mo><mn>2</mn><mi>x</mi><mo stretchy="false">)</mo><mtext>&nbsp;</mtext><mo fence="false" stretchy="false">{</mo><mtext>even</mtext><mo fence="false" stretchy="false">}</mo><mo>.</mo></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-4">
   \{ \top \} (\lambda x \mapsto 2x) \ \{ \text{even} \}. 
</script></span></p>
<p><span class="math display"><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-5-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;{&lt;/mo&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x22A5;&lt;/mi&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;}&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;(&lt;/mo&gt;&lt;mi&gt;&amp;#x03BB;&lt;/mi&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;&amp;#x21A6;&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo stretchy=&quot;false&quot;&gt;)&lt;/mo&gt;&lt;mtext&gt;&amp;#xA0;&lt;/mtext&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;{&lt;/mo&gt;&lt;mtext&gt;odd&lt;/mtext&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;}&lt;/mo&gt;&lt;mo&gt;.&lt;/mo&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-66" role="math" style="width: 9.833em; display: inline-block;"><span style="display: inline-block; position: relative; width: 9.53em; height: 0px; font-size: 103%;"><span style="position: absolute; clip: rect(1.217em 1009.47em 2.552em -999.997em); top: -2.121em; left: 0.003em;"><span class="mrow" id="MathJax-Span-67"><span class="mo" id="MathJax-Span-68" style="font-family: MathJax_Main;">{</span><span class="mi" id="MathJax-Span-69" style="font-family: MathJax_Main;">⊥</span><span class="mo" id="MathJax-Span-70" style="font-family: MathJax_Main;">}</span><span class="mo" id="MathJax-Span-71" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-72" style="font-family: MathJax_Math-italic;">λ</span><span class="mi" id="MathJax-Span-73" style="font-family: MathJax_Math-italic;">x</span><span class="mo" id="MathJax-Span-74" style="font-family: MathJax_Main; padding-left: 0.306em;">↦</span><span class="mn" id="MathJax-Span-75" style="font-family: MathJax_Main; padding-left: 0.306em;">2</span><span class="mi" id="MathJax-Span-76" style="font-family: MathJax_Math-italic;">x</span><span class="mo" id="MathJax-Span-77" style="font-family: MathJax_Main;">)</span><span class="mtext" id="MathJax-Span-78" style="font-family: MathJax_Main;">&nbsp;</span><span class="mo" id="MathJax-Span-79" style="font-family: MathJax_Main;">{</span><span class="mtext" id="MathJax-Span-80" style="font-family: MathJax_Main;">odd</span><span class="mo" id="MathJax-Span-81" style="font-family: MathJax_Main;">}</span><span class="mo" id="MathJax-Span-82" style="font-family: MathJax_Main;">.</span></span><span style="display: inline-block; width: 0px; height: 2.127em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 1.128em;"></span></span></nobr><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mo fence="false" stretchy="false">{</mo><mi mathvariant="normal">⊥</mi><mo fence="false" stretchy="false">}</mo><mo stretchy="false">(</mo><mi>λ</mi><mi>x</mi><mo stretchy="false">↦</mo><mn>2</mn><mi>x</mi><mo stretchy="false">)</mo><mtext>&nbsp;</mtext><mo fence="false" stretchy="false">{</mo><mtext>odd</mtext><mo fence="false" stretchy="false">}</mo><mo>.</mo></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-5">
   \{ \bot \} (\lambda x \mapsto 2x) \ \{ \text{odd} \}. 
</script></span></p>
<div class="figure">
<img src="./Lecture2_files/SirTonyHoare.jpg" alt="Tony Hoare (born 1934)">
<p class="caption">Tony Hoare (born 1934)</p>
</div>
<p>Tony Hoare is famous for <a href="https://en.wikipedia.org/wiki/Hoare_logic">Hoare Logic</a>, he is a pioneer of process calculi with his <a href="https://en.wikipedia.org/wiki/Communicating_sequential_processes">Communicating Sequential Processes</a>, and he is the inventor of a famous efficient sorting algorithm called <a href="https://en.wikipedia.org/wiki/Quicksort">QuickSort</a>. Hoare was the winner of the <a href="http://amturing.acm.org/award_winners/hoare_4622167.cfm">1980 Turing Award</a>.</p>
<p><strong>Quicksort</strong></p>
<p><strong>Quicksort</strong> is a very early example where recursion is used as the key to a very efficient sorting algorithm. Here is an implementation in Haskell:</p>
<div class="sourceCode"><pre class="sourceCode literate literatehaskell"><code class="sourceCode literatehaskell"><span class="ot">&gt; quicksort ::</span> <span class="dt">Ord</span> a <span class="ot">=&gt;</span> [a] <span class="ot">-&gt;</span> [a]  
<span class="ot">&gt;</span> quicksort [] <span class="fu">=</span> []  
<span class="ot">&gt;</span> quicksort (x<span class="fu">:</span>xs) <span class="fu">=</span> 
<span class="ot">&gt;</span>    quicksort [ a <span class="fu">|</span> a <span class="ot">&lt;-</span> xs, a <span class="fu">&lt;=</span> x ]  
<span class="ot">&gt;</span>    <span class="fu">++</span> [x]
<span class="ot">&gt;</span>    <span class="fu">++</span> quicksort [ a <span class="fu">|</span> a <span class="ot">&lt;-</span> xs, a <span class="fu">&gt;</span> x ]</code></pre></div>
<p>The <strong>quicksort</strong> function has the property that it turns <em>any</em> finite list of items into an <em>ordered</em> list of items. So in this case the <em>precondition</em> is the property <code>isTrue</code> that holds of any list (in fact of anything at all):</p>
<div class="sourceCode"><pre class="sourceCode literate literatehaskell"><code class="sourceCode literatehaskell"><span class="ot">&gt; isTrue ::</span> a <span class="ot">-&gt;</span> <span class="dt">Bool</span>
<span class="ot">&gt;</span> isTrue _ <span class="fu">=</span> <span class="dt">True</span></code></pre></div>
<p>and the <em>postcondition</em> is:</p>
<div class="sourceCode"><pre class="sourceCode literate literatehaskell"><code class="sourceCode literatehaskell"><span class="ot">&gt; prop_ordered ::</span> <span class="dt">Ord</span> a <span class="ot">=&gt;</span> [a] <span class="ot">-&gt;</span> <span class="dt">Bool</span>
<span class="ot">&gt;</span> prop_ordered [] <span class="fu">=</span> <span class="dt">True</span>
<span class="ot">&gt;</span> prop_ordered (x<span class="fu">:</span>xs) <span class="fu">=</span> all (<span class="fu">&gt;=</span> x) xs <span class="fu">&amp;&amp;</span> prop_ordered xs</code></pre></div>
<p>So we have the following Hoare triple:</p>
<pre><code>{ isTrue xs } ys = quicksort xs { prop_ordered ys }</code></pre>
<p>What this means: if <code>xs</code> is any (finite) list, and <code>ys</code> is the result of the call <code>quicksort xs</code>, then <code>ys</code> is an ordered list.</p>
<p>This Hoare triple for <code>quicksort</code> can be used for automated testing.</p>
<p><strong>Automated test generation</strong></p>
<div class="sourceCode"><pre class="sourceCode literate literatehaskell"><code class="sourceCode literatehaskell"><span class="ot">&gt; testR ::</span> <span class="dt">Int</span> <span class="ot">-&gt;</span> <span class="dt">Int</span> <span class="ot">-&gt;</span> ([<span class="dt">Int</span>] <span class="ot">-&gt;</span> [<span class="dt">Int</span>])
<span class="ot">&gt;</span>                     <span class="ot">-&gt;</span> ([<span class="dt">Int</span>] <span class="ot">-&gt;</span> [<span class="dt">Int</span>] <span class="ot">-&gt;</span> <span class="dt">Bool</span>) <span class="ot">-&gt;</span> <span class="dt">IO</span> ()
<span class="ot">&gt;</span> testR k n f r <span class="fu">=</span> <span class="kw">if</span> k <span class="fu">==</span> n <span class="kw">then</span> print (show n <span class="fu">++</span> <span class="st">" tests passed"</span>)
<span class="ot">&gt;</span>                 <span class="kw">else</span> <span class="kw">do</span>
<span class="ot">&gt;</span>                   xs <span class="ot">&lt;-</span> genIntList
<span class="ot">&gt;</span>                   <span class="kw">if</span> r xs (f xs) <span class="kw">then</span>
<span class="ot">&gt;</span>                     <span class="kw">do</span> print (<span class="st">"pass on: "</span> <span class="fu">++</span> show xs)
<span class="ot">&gt;</span>                        testR (k<span class="fu">+</span><span class="dv">1</span>) n f r
<span class="ot">&gt;</span>                   <span class="kw">else</span> error (<span class="st">"failed test on: "</span> <span class="fu">++</span> show xs)</code></pre></div>
<p>Here is a function for running <code>100</code> tests with a given postcondition.</p>
<div class="sourceCode"><pre class="sourceCode literate literatehaskell"><code class="sourceCode literatehaskell"><span class="ot">&gt; testPost ::</span> ([<span class="dt">Int</span>] <span class="ot">-&gt;</span> [<span class="dt">Int</span>]) <span class="ot">-&gt;</span> ([<span class="dt">Int</span>] <span class="ot">-&gt;</span> <span class="dt">Bool</span>) <span class="ot">-&gt;</span> <span class="dt">IO</span> ()
<span class="ot">&gt;</span> testPost f p <span class="fu">=</span> testR <span class="dv">1</span> <span class="dv">100</span> f (\_ <span class="ot">-&gt;</span> p)</code></pre></div>
<p><strong>Example use</strong></p>
<pre><code> testPost quicksort prop_ordered</code></pre>
<p>Let's compare <code>quicksort</code> with the following:</p>
<div class="sourceCode"><pre class="sourceCode literate literatehaskell"><code class="sourceCode literatehaskell"><span class="ot">&gt; quicksrt ::</span> <span class="dt">Ord</span> a <span class="ot">=&gt;</span> [a] <span class="ot">-&gt;</span> [a]  
<span class="ot">&gt;</span> quicksrt [] <span class="fu">=</span> []  
<span class="ot">&gt;</span> quicksrt (x<span class="fu">:</span>xs) <span class="fu">=</span> 
<span class="ot">&gt;</span>    quicksrt [ a <span class="fu">|</span> a <span class="ot">&lt;-</span> xs, a <span class="fu">&lt;</span> x ]  
<span class="ot">&gt;</span>    <span class="fu">++</span> [x]
<span class="ot">&gt;</span>    <span class="fu">++</span> quicksrt [ a <span class="fu">|</span> a <span class="ot">&lt;-</span> xs, a <span class="fu">&gt;</span> x ]</code></pre></div>
<p>We can test this as well:</p>
<pre><code> testPost quicksrt prop_ordered</code></pre>
<p>Is there a postcondition property that <code>quicksort</code> has but <code>quicksrt</code> lacks?</p>
<div class="sourceCode"><pre class="sourceCode literate literatehaskell"><code class="sourceCode literatehaskell"><span class="ot">&gt; samelength ::</span> [<span class="dt">Int</span>] <span class="ot">-&gt;</span> [<span class="dt">Int</span>] <span class="ot">-&gt;</span> <span class="dt">Bool</span>
<span class="ot">&gt;</span> samelength xs ys <span class="fu">=</span> length xs <span class="fu">==</span> length ys</code></pre></div>
<div class="sourceCode"><pre class="sourceCode literate literatehaskell"><code class="sourceCode literatehaskell"><span class="ot">&gt; testRel ::</span> ([<span class="dt">Int</span>] <span class="ot">-&gt;</span> [<span class="dt">Int</span>]) <span class="ot">-&gt;</span> ([<span class="dt">Int</span>] <span class="ot">-&gt;</span> [<span class="dt">Int</span>] <span class="ot">-&gt;</span> <span class="dt">Bool</span>) <span class="ot">-&gt;</span> <span class="dt">IO</span> ()
<span class="ot">&gt;</span> testRel f r <span class="fu">=</span> testR <span class="dv">1</span> <span class="dv">100</span> f r </code></pre></div>
<p>Use this as follows:</p>
<pre><code>testRel quicksrt samelength </code></pre>
<p>Think of some more properties and relations that can be used to test <code>quicksort</code> and <code>quicksrt</code>.</p>
<p>Next, find some relevant properties to test <code>reverse</code>.</p>
<p><strong>Precondition strengthening</strong></p>
<p>If</p>
<pre><code>{ p } f { q }</code></pre>
<p>holds, and <code>p'</code> is a property that is <em>stronger than</em> <code>p</code>, then</p>
<pre><code>{ p' } f { q }</code></pre>
<p>holds as well. This is called <em>precondition strenghtening</em>. In order to see what this principle means, we need a good understanding of the relation <em>stronger than</em>. See <a href="http://homepages.cwi.nl/~jve/courses/15/testing/workshops/Workshop2.html">workshop 2</a>.</p>
<p>A property that is stronger than <code>isTrue</code> is the property of being different from the empty list. In Haskell, we can express this as <code>not.null</code>.</p>
<p>Thus, precondition strengthening allows us to derive the following Hoare triple:</p>
<pre><code>{ not.null xs } ys = quicksort xs { sorted ys }           </code></pre>
<p><strong>Postcondition weakening</strong></p>
<p>If</p>
<pre><code>{ p } f { q }</code></pre>
<p>holds, and <code>q'</code> is a property that is <em>weaker than</em> <code>q</code>, then</p>
<pre><code>{ p } f { q' }</code></pre>
<p>holds as well. This is called <em>postcondition weakening</em>. Again, to understand what this means we need a good understanding of what <em>weaker than</em> means.</p>
<p><strong>Hoare triples as contracts</strong></p>
<p>Hoare triples can be viewed as a special case of the contracts used as specifications in <a href="https://en.wikipedia.org/wiki/Design_by_contract">design by contract</a> software development.</p>
<p>The <em>preconditions</em> specify what the contract <em>expects</em>. In the case of <em>quicksort</em>, the contract expects nothing. The <em>postconditions</em> express what the contract <em>guarantees</em>. In the case of <em>quicksort</em>, the contract guarantees that the output of the program is an ordered list.</p>
<p><strong>Useful logic notation</strong></p>
<div class="sourceCode"><pre class="sourceCode literate literatehaskell"><code class="sourceCode literatehaskell"><span class="ot">&gt;</span> infix <span class="dv">1</span> <span class="fu">==&gt;</span> 
<span class="ot">&gt;</span> 
<span class="ot">&gt; (==&gt;) ::</span> <span class="dt">Bool</span> <span class="ot">-&gt;</span> <span class="dt">Bool</span> <span class="ot">-&gt;</span> <span class="dt">Bool</span>
<span class="ot">&gt;</span> p <span class="fu">==&gt;</span> q <span class="fu">=</span> (not p) <span class="fu">||</span> q
<span class="ot">&gt;</span> forall <span class="fu">=</span> flip all</code></pre></div>
<p><strong>Stronger and Weaker as Predicates on Test Properties</strong></p>
<p><em>Stronger than</em> and <em>weaker than</em> are relations on the class of test properties.</p>
<p>Here are the implementations. These assume that we restrict to a finite domain given by a <code>[a]</code>.</p>
<div class="sourceCode"><pre class="sourceCode literate literatehaskell"><code class="sourceCode literatehaskell"><span class="ot">&gt;</span> stronger,<span class="ot"> weaker ::</span> [a] <span class="ot">-&gt;</span> 
<span class="ot">&gt;</span>        (a <span class="ot">-&gt;</span> <span class="dt">Bool</span>) <span class="ot">-&gt;</span> (a <span class="ot">-&gt;</span> <span class="dt">Bool</span>) <span class="ot">-&gt;</span> <span class="dt">Bool</span>
<span class="ot">&gt;</span> stronger xs p q <span class="fu">=</span> forall xs (\ x <span class="ot">-&gt;</span> p x <span class="fu">==&gt;</span> q x)
<span class="ot">&gt;</span> weaker   xs p q <span class="fu">=</span> stronger xs q p </code></pre></div>
<p>Note the presence of the <code>[a]</code> argument for the test domain.</p>
<p><strong>The Weakest and the Strongest Property</strong></p>
<p>Use <span class="math inline"><span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-6-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x22A4;&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-83" role="math" style="width: 0.853em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.792em; height: 0px; font-size: 103%;"><span style="position: absolute; clip: rect(1.277em 1000.73em 2.309em -999.997em); top: -2.121em; left: 0.003em;"><span class="mrow" id="MathJax-Span-84"><span class="mi" id="MathJax-Span-85" style="font-family: MathJax_Main;">⊤</span></span><span style="display: inline-block; width: 0px; height: 2.127em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 0.816em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi mathvariant="normal">⊤</mi></math></span></span><script type="math/tex" id="MathJax-Element-6">\top</script></span> for the property that <em>always</em> holds. This is the <em>weakest possible property</em>. Implementation: <code>\ _ -&gt; True</code>. See <code>isTrue</code> above.</p>
<p>Use <span class="math inline"><span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-7-Frame" tabindex="0" data-mathml="&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi mathvariant=&quot;normal&quot;&gt;&amp;#x22A5;&lt;/mi&gt;&lt;/math&gt;" role="presentation" style="position: relative;"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-86" role="math" style="width: 0.853em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.792em; height: 0px; font-size: 103%;"><span style="position: absolute; clip: rect(1.277em 1000.73em 2.309em -999.997em); top: -2.121em; left: 0.003em;"><span class="mrow" id="MathJax-Span-87"><span class="mi" id="MathJax-Span-88" style="font-family: MathJax_Main;">⊥</span></span><span style="display: inline-block; width: 0px; height: 2.127em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left-width: 0px; border-left-style: solid; width: 0px; height: 0.816em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi mathvariant="normal">⊥</mi></math></span></span><script type="math/tex" id="MathJax-Element-7">\bot</script></span> for the property that <em>never</em> holds. This is the strongest property. Implementation: <code>\ _ -&gt; False</code>.</p>
<p><em>Everything</em> satisfies <code>\ _ -&gt; True</code>.</p>
<p><em>Nothing</em> satisfies <code>\ _ -&gt; False</code>.</p>
<p><strong>Negating a Property</strong></p>
<div class="sourceCode"><pre class="sourceCode literate literatehaskell"><code class="sourceCode literatehaskell"><span class="ot">&gt; neg ::</span> (a <span class="ot">-&gt;</span> <span class="dt">Bool</span>) <span class="ot">-&gt;</span> a <span class="ot">-&gt;</span> <span class="dt">Bool</span>
<span class="ot">&gt;</span> neg p <span class="fu">=</span> \ x <span class="ot">-&gt;</span> not (p x)</code></pre></div>
<p>But there is a simpler version:</p>
<pre><code>(not.) = \ p -&gt; not . p =  \ p x -&gt; not . (p x)</code></pre>
<p><strong>Conjunctions and Disjunctions of Properties</strong></p>
<div class="sourceCode"><pre class="sourceCode literate literatehaskell"><code class="sourceCode literatehaskell"><span class="ot">&gt;</span> <span class="kw">infixl</span> <span class="dv">2</span> <span class="fu">.&amp;&amp;.</span> 
<span class="ot">&gt;</span> <span class="kw">infixl</span> <span class="dv">2</span> <span class="fu">.||.</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode literate literatehaskell"><code class="sourceCode literatehaskell"><span class="ot">&gt; (.&amp;&amp;.) ::</span> (a <span class="ot">-&gt;</span> <span class="dt">Bool</span>) <span class="ot">-&gt;</span> (a <span class="ot">-&gt;</span> <span class="dt">Bool</span>) <span class="ot">-&gt;</span> a <span class="ot">-&gt;</span> <span class="dt">Bool</span>
<span class="ot">&gt;</span> p <span class="fu">.&amp;&amp;.</span> q <span class="fu">=</span> \ x <span class="ot">-&gt;</span> p x <span class="fu">&amp;&amp;</span> q x 
<span class="ot">&gt;</span> 
<span class="ot">&gt; (.||.) ::</span> (a <span class="ot">-&gt;</span> <span class="dt">Bool</span>) <span class="ot">-&gt;</span> (a <span class="ot">-&gt;</span> <span class="dt">Bool</span>) <span class="ot">-&gt;</span> a <span class="ot">-&gt;</span> <span class="dt">Bool</span>
<span class="ot">&gt;</span> p <span class="fu">.||.</span> q <span class="fu">=</span> \ x <span class="ot">-&gt;</span> p x <span class="fu">||</span> q x</code></pre></div>
<p><em>Review questions</em>: What is the difference between <code>(&amp;&amp;)</code> and <code>.(&amp;&amp;).</code> ? What is the difference between <code>(||)</code> and <code>.(||).</code> ?</p>
<p><strong>Examples</strong></p>
<pre><code>*Lecture2&gt; stronger [0..10] even (even .&amp;&amp;. (&gt;3))
False
*Lecture2&gt; stronger [0..10] even (even .||. (&gt;3))
True
*Lecture2&gt; stronger [0..10] (even .&amp;&amp;. (&gt;3)) even
True
*Lecture2&gt; stronger [0..10] (even .||. (&gt;3)) even
False       
    </code></pre>
<p>Further exercises with this: workshop of today.</p>
<p><strong>Importance of Precondition Strengthening for Testing</strong></p>
<p>If you strengthen the requirements on your inputs, your testing procedure gets <em>weaker</em>.</p>
<p>Reason: the set of <em>relevant tests</em> gets smaller.</p>
<p>Note: the precondition specifies the <em>relevant tests</em>.</p>
<p>Preconditions should be <em>as weak as possible</em> (given a function and a postcondition).</p>
<p><strong>Importance of Postcondition Weakening for Testing</strong></p>
<p>If you weaken the requirements on your output, your testing procedure gets <em>weaker</em>.</p>
<p>Reason: the requirements that you use for checking the output get less severe.</p>
<p>Note: the postcondition specifies the <em>strength of your tests</em>.</p>
<p>Postconditions should be <em>as strong as possible</em> (given a function and a precondition).</p>
<p><strong>Falsifiability, Critical Rationalism, Open Society</strong></p>
<div class="figure">
<img src="./Lecture2_files/KarlPopper.jpg" alt="Karl Popper (1902--1992">
<p class="caption">Karl Popper (1902--1992</p>
</div>
<p><a href="https://en.wikipedia.org/wiki/Karl_Popper">Karl Popper</a> stated the famous <strong>principle of falsifiability</strong>:</p>
<p><em>To say something meaningful, say something that can turn out false.</em></p>
<p><strong>Pre- and Postcondition Composition Rule</strong></p>
<p>From</p>
<pre><code>{ p } f { q }     and    { q } g { r }</code></pre>
<p>conclude:</p>
<pre><code>{ p } g . f { r }</code></pre>
<p>This gives an important way to derive useful specifications for compositions from specifications for their parts.<br>
More about this in the next lecture.</p>
<hr>
<p><strong>Next time</strong></p>
<ol style="list-style-type: decimal">
<li><p>More about applications of the composition rule.</p></li>
<li><p>More about the connections between functional and imperative programming.</p></li>
<li><p>More about test generation and tools for test generation.</p></li>
</ol>
<div id="references" class="references">

</div>


<div style="position: absolute; width: 0px; height: 0px; overflow: hidden; padding: 0px; border: 0px; margin: 0px;"><div id="MathJax_Font_Test" style="position: absolute; visibility: hidden; top: 0px; left: 0px; width: auto; padding: 0px; border: 0px; margin: 0px; white-space: nowrap; text-align: left; text-indent: 0px; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; font-size: 40px; font-weight: normal; font-style: normal; font-family: MathJax_Math-italic, sans-serif;"></div></div></body></html>